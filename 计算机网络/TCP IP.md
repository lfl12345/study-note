# OSI七层模型

Open System Interconnection Reference Model ，缩写为OSI，一种概念模型，一个试图使各种计算机在世界范围内互联为网络的标准框架。

这一模型将通信协议中必要的功能分成了7层，每个分层都接收由它下一层所提供的特定服务，并且负责为自己的上一层提供特定的服务，上下层间进行交互时所遵循的约定叫做接口，同一层之间的交互所遵循的约定叫做协议

分层的**优点**：

* 分层可以将每个分层独立使用，即使系统中某些分层发生变化，也不会波及整个系统，因此可以构造一个扩展性和灵活性都比较强的系统
* 通过分层可以细分通信功能，易于单独实现每个分层的协议，并界定各个分层的具体职责和义务。

分层的**劣势**：

* 过分模块化，使得处理变得更加沉重以及每个模块都不得不实现相似的处理逻辑

<img src="C:\Users\lfl\AppData\Roaming\Typora\typora-user-images\image-20220222221500055.png" alt="image-20220222221500055" style="zoom:80%;" />

## OSI各个分层的作用

* 应用层

  为应用程序提供服务并规定应用程序中通信相关的细节。包括文件传输、电子邮件、远程登录（虚拟终端）等协议。 

* 表示层

  将应用处理的信息转换为适合网络传输的格式，或将来自下一层的数据转换为上层能够处理的格式。因此它主要负责数据格式的转换。 

  具体来说，就是将设备固有的数据格式转换为网络标准传输格式。不同设备对同一比特流解释的结果可能会不同。因此，使它们保持一致是这一层的主要作用。 

* 会话层

  负责建立和断开通信连接（数据流动的逻辑通路），以及数据的分割等数据传输相关的管理。

* 传输层

  起着可靠传输的作用。只在通信双方节点上进行处理，而无需在路由器上处理。 

* 网络层

  将数据传输到目标地址。目标地址可以是多个网络通过路由器连接而成的某一个地址。因此这一层主要负责寻址和路由选择。 

* 数据链路层

  负责物理层面上互连的、节点之间的通信传输。例如与1个以太网相连的2个节点之间的通信。 

  将0、1序列划分为具有意义的数据帧传送给对端（数据帧的生成与接收）

* 物理层

  负责0、1比特流（0、1序列）与电压的高低、光的闪灭之间的互换。 

# TCP urg 标识位的作用

当urg等于1时 表明紧急指针字段有效，他告诉系统次报文段中有紧急数据，应尽快传送，而不要按照原来的排队顺序来传送，发送方的TCP就把紧急数据放到本报文段数据的最前面。URG标志位要与首部中的紧急指针字段配合使用，紧急指针指向数据段中的某个字节，（数据从第一个字节到指针所指的字节就是紧急数据）。

注意：即使窗口为0时也可以发送紧急数据，紧急数据不进入接收缓冲区直接交给上层进程

# TCP psh 标志位的作用

当两个应用进行交互式通信时，有时客户发送一个请求给服务器时希望立即能够收到对方的相应，这种情况下，客户应用程序通知TCP使用推送操作（push），TCP就把PSH标志位设置为1，并立即创建一个报文段发送过去，类似的服务器的TCP收到一个设置了PSH标志的报文段就尽快将所有收到的数据立即交给服务进程，而不再等到整个缓存都填满了再向上交付

URG和PSH的区别：

URG，紧急标志位，表示的是此报文段中有紧急数据，将紧急数据排在普通数据的前面；当接收端收到此报文后必须先处理紧急数据，然后再处理普通数据

PSH：催促标志位，当发送端将PSH置为1时，TCP会立即创建一个报文并发送，接收端收到PSH为1的报文后就立即将接收端缓冲区内数据向上交付给应用程序，而不是等待缓冲区满后再交付







































































































































































































































